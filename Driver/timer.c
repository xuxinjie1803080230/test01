/*>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
* 文件名  ： timer
* 作者    ： xuxinjie
* 版本    ： V0.0.1
* 时间    ： 2020/12/1
* 描述    ： 定时器驱动文件
********************************************************************
* 副本
*
*>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>*/
/* 头文件 ----------------------------------------------------------------*/
#include "timer.h"      
unsigned long g_ulSysClock = 0;
/* 宏定义 ----------------------------------------------------------------*/
/* 结构体或枚举 ----------------------------------------------------------*/
/* 内部函数声明-----------------------------------------------------------*/

/* 函数 ------------------------------------------------------------------*/

/*~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* 函数名  ： TimerInit
* 参数    ： void
* 返回    ： void
* 作者    ： xuxinjie
* 时间    ： 2020/12/1
* 描述    ： 定时器初始化
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~*/
void TimerInit(void)
{
    T1CTL=0x06;
    T1CC0H=0x07;
    T1CC0L=0xD0;
    T1CCTL0 |=0x04;
    T1IE=1;
    EA=1;
}
/*~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
* 函数名  ： T1_ISR
* 参数    ： void
* 返回    ： void
* 作者    ： xuxinjie
* 时间    ： 2020/12/15
* 描述    ： 定时器中断函数
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~*/
#pragma vector = T1_VECTOR
__interrupt void T1_ISR(void)
{
    g_ulSysClock ++;
    T1IF = 0;
}

